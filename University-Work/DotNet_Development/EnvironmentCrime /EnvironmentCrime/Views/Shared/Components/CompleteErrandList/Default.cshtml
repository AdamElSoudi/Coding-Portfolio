<table>
    <tr>
        <th>Ärende anmält</th>
        <th>Ärendenummer</th>
        <th>Miljöbrott</th>
        <th>Status</th>
        <th>Avdelning</th>
        <th>Handläggare</th>
    </tr>

    <!-- This view component is filling the tables on crime views using a foreach-loop depending on which view is being called from what role. Using if statements allows this code to be in one file instead of having redundant code.-->
    @foreach (MyErrand errand in Model)
    {
        <tr>
            <td> @errand.DateOfObservation.ToShortDateString()</td>

            @if (ViewBag.RoleView == "Investigator")
            {
                <td><a asp-controller="Investigator" asp-action="CrimeInvestigator" asp-route-id="@errand.ErrandId">@errand.RefNumber</a></td>
            }

            @if (ViewBag.RoleView == "Coordinator")
            {
                <td><a asp-controller="Coordinator" asp-action="CrimeCoordinator" asp-route-id="@errand.ErrandId">@errand.RefNumber</a></td>
            }

            @if (ViewBag.RoleView == "Manager")
            {
                <td><a asp-controller="Manager" asp-action="CrimeManager" asp-route-id="@errand.ErrandId">@errand.RefNumber</a></td>
            }

            <td> @errand.TypeOfCrime</td>
            <td> @errand.StatusName</td>
            <td> @errand.DepartmentName</td>
            <td> @errand.EmployeeName</td>
        </tr>
    }
</table>

