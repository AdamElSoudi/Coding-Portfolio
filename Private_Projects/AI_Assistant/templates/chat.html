<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AI Project Assistant</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='ai.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>
    <div class="container">
        <h1>AI Project Assistant</h1>
        <p class="subtitle">
            Ask a question about any project on the portfolio. 
            <br><strong>Tip:</strong> Please use the full project title exactly as it appears on the portfolio cards.
        </p>

        <input type="text" id="question" placeholder="Ask a question..." />
        <button onclick="ask()">Ask</button>

        <div class="suggested-questions">
            <p class="suggestion-title">Example questions (click to try):</p>
            <ul>
                <li onclick="fillQuestion(this)">Whatâ€™s the goal of the MarsTravel - Interplanetary Booking System project?</li>
                <li onclick="fillQuestion(this)">Explain how the Electricity Price Analyzer project works.</li>
                <li onclick="fillQuestion(this)">Can you summarize the Simple Movie Database project?</li>
                <li onclick="fillQuestion(this)">What does the Calorie-Calculator Website do?</li>
                <li onclick="fillQuestion(this)">Show me a sample SQL query from the Webshop Orders & Inventory Database.</li>
            </ul>
        </div>

        <div id="response" class="response-box"></div>
    </div>

    <script>
        async function ask() {
            const question = document.getElementById("question").value;
            const responseBox = document.getElementById("response");

            responseBox.innerText = "Thinking...";

            const res = await fetch("/ask", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ question })
            });

            const data = await res.json();
            if (data.answer) {
                responseBox.innerHTML = marked.parse(data.answer);
            } else {
                responseBox.innerText = "Error: " + data.error;
            }
        }

        function fillQuestion(element) {
            const input = document.getElementById("question");
            input.value = element.innerText;
        }
    </script>
</body>
</html>
